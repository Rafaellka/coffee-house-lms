<app-header [title]="'Профиль'"></app-header>
<ion-content>
    <div class="profile">
        <div class="profile__user-info">
            <img src=""/>
            <div class="profile__user-details">
                <div>ФИО: {{userInfo.name}}</div>
                <div>Должность: {{userInfo.role | userRole}}</div>
            </div>
        </div>
        <ng-container *ngIf="!userInfo.isCreator">
            <div *ngIf="userProgress$ | async as progress" class="profile__progress">
                <div>Прогресс</div>
                <div>
                    <div>Пройдено курсов: {{progress.tracks.length}} из {{progress.allTracks.length}}</div>
                    <ion-list *ngFor="let passedTrack of progress.tracks">
                        <ion-item
                            button
                            detail="true"
                            class="profile__track"
                            detail-icon="caret-forward-outline"
                            color="light"
                            (click)="goToTrack(passedTrack)">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24"
                                 class="profile__icon"
                                 viewBox="0 0 48 48">
                                <path fill="#c8e6c9"
                                      d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"></path>
                                <path fill="#4caf50"
                                      d="M34.586,14.586l-13.57,13.586l-5.602-5.586l-2.828,2.828l8.434,8.414l16.395-16.414L34.586,14.586z"></path>
                            </svg>
                            {{passedTrack.name}}</ion-item>
                    </ion-list>
                    <div>Пройдено лекций: {{progress.lectures.length}} из {{progress.allLectures.length}}</div>
                    <div>Пройдено тестов: {{progress.tests.length}} из {{progress.allTests.length}}</div>
                </div>
            </div>
        </ng-container>
        <ion-button [color]="'danger'" (click)="exit()">Выйти</ion-button>
    </div>
</ion-content>